<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
    <%
    // 발급된 쿠키가 있는지 체크해서 쿠키가 있다면
    // 로그인 창을 보여주는 대신 바로 welcome페이지로 보내주세요.(cookie_check.jsp 참조)
 	Cookie[] cookies = request.getCookies();
    String autoLogin = null;
    String userId = null;
    // 향상된 for문으로도 처리가능함
    for(Cookie cookie : cookies){
    	autoLogin = cookie.getName();
    	System.out.println(autoLogin);
    	// null인지검사
    	if(autoLogin != null){
    		// null이 아니라면 해당 쿠키의 value값 userId에 받아오기.
    		userId = cookie.getValue();
    		// userId가 abc1234라면
    		if(autoLogin.equals("abc1234")){
    			// cookie_welcome 페이지로 리다이렉트
    			response.sendRedirect("cookie_welcome");
    		}
    	}
    }
    
    %>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	<!-- 로그인창은 form으로 구성해주시면 됩니다.
	input text 1개(유저 아이디 입력), input password 1개(비밀번호 입력).
	input checkbox 1개(자동로그인)
	목적지는 cookie_login_ok.jsp로 해주세요. -->
	<form action = "cookie_login_ok.jsp">
	아이디 : <input type="text" name="userId"/><br/>
	비밀번호 : <input type="password" name="userPw"/><br/>
	자동로그인 <input type="checkbox" name="auto" value="checked"><br/>
	<input type = "submit" value="로그인"/>
	<input type = "reset" value="초기화"/>
	</form> 

</body>
</html>